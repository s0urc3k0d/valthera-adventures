{
  "elena_welcome_start": {
    "id": "elena_welcome_start",
    "npcId": "elena-whisperwind",
    "npcName": "Elena Vent-Murmurant",
    "title": "Bienvenue, aventurier !",
    "portrait": "üë©‚Äçü¶∞",
    "nodes": {
      "start": {
        "text": "Bienvenue √† la Guilde des Aventuriers, {playerName} ! Je suis Elena Vent-Murmurant, ma√Ætre de guilde. Nous accueillons tous ceux qui ont le courage d'affronter les dangers de ce monde.\n\nVous semblez nouveau ici. Puis-je vous aider √† faire vos premiers pas ?",
        "responses": [
          { "text": "Oui, j'aimerais devenir aventurier !", "next": "explain_guild", "effect": null },
          { "text": "Qu'est-ce que la Guilde des Aventuriers ?", "next": "about_guild", "effect": null },
          { "text": "Je cherche du travail.", "next": "quests_available", "effect": null },
          { "text": "Non merci, je regarde juste.", "next": "end_polite", "effect": null }
        ]
      },
      "explain_guild": {
        "text": "Excellent ! Pour devenir un v√©ritable aventurier, vous devez prouver votre valeur. J'ai une premi√®re mission pour vous.\n\nLes Bois Murmurants √† l'ouest abritent des loups qui deviennent trop agressifs. Explorez la for√™t et √©liminez-en au moins un. Revenez me voir ensuite.",
        "responses": [
          { "text": "J'accepte cette mission !", "next": "quest_accepted", "effect": { "type": "accept_quest", "questId": "main_01_welcome" } },
          { "text": "C'est dangereux ?", "next": "danger_warning", "effect": null },
          { "text": "Quelle sera ma r√©compense ?", "next": "rewards_info", "effect": null }
        ]
      },
      "about_guild": {
        "text": "La Guilde des Aventuriers existe depuis des si√®cles. Nous rassemblons les h√©ros de Valthera - guerriers, mages, voleurs - tous unis pour prot√©ger le royaume.\n\nNous offrons des contrats r√©mun√©r√©s, un r√©seau de contacts, et un endroit o√π les aventuriers peuvent se retrouver entre leurs missions.",
        "responses": [
          { "text": "Je veux rejoindre la Guilde !", "next": "explain_guild", "effect": null },
          { "text": "Merci pour ces informations.", "next": "end_polite", "effect": null }
        ]
      },
      "quests_available": {
        "text": "Du travail ? Bien s√ªr ! Mais d'abord, vous devez faire vos preuves avec une mission d'initiation.\n\nLes Bois Murmurants ont besoin d'√™tre explor√©s. C'est le test parfait pour un nouveau venu.",
        "responses": [
          { "text": "Je suis pr√™t pour cette mission.", "next": "quest_accepted", "effect": { "type": "accept_quest", "questId": "main_01_welcome" } },
          { "text": "Je reviendrai plus tard.", "next": "end_polite", "effect": null }
        ]
      },
      "danger_warning": {
        "text": "Un peu, oui. Les loups peuvent √™tre vicieux, surtout en meute. Mais c'est pour √ßa qu'on vous donne des potions de soin et une bonne formation.\n\nSoyez prudent, restez sur vos gardes, et vous reviendrez en un seul morceau. J'en suis certaine !",
        "responses": [
          { "text": "D'accord, j'y vais !", "next": "quest_accepted", "effect": { "type": "accept_quest", "questId": "main_01_welcome" } },
          { "text": "Je dois me pr√©parer d'abord.", "next": "end_prepare", "effect": null }
        ]
      },
      "rewards_info": {
        "text": "Pour cette mission d'initiation, vous recevrez :\n‚Ä¢ 100 points d'exp√©rience\n‚Ä¢ 25 pi√®ces d'or\n‚Ä¢ 3 potions de soin\n‚Ä¢ Le statut de membre de la Guilde\n\nPas mal pour une premi√®re mission, non ?",
        "responses": [
          { "text": "C'est parfait ! J'accepte.", "next": "quest_accepted", "effect": { "type": "accept_quest", "questId": "main_01_welcome" } },
          { "text": "Je vais y r√©fl√©chir.", "next": "end_polite", "effect": null }
        ]
      },
      "quest_accepted": {
        "text": "Parfait ! Que les dieux veillent sur vous, {playerName}.\n\nRendez-vous aux Bois Murmurants √† l'ouest de la ville. Explorez, trouvez les loups, et revenez me faire votre rapport.\n\n*Elena vous fait un clin d'≈ìil encourageant.*",
        "responses": [
          { "text": "J'y vais de ce pas !", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      },
      "end_polite": {
        "text": "Tr√®s bien. La Guilde sera toujours l√† quand vous serez pr√™t. Bonne journ√©e, aventurier !",
        "responses": [
          { "text": "Au revoir.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      },
      "end_prepare": {
        "text": "Sage d√©cision. √âquipez-vous bien et revenez me voir quand vous serez pr√™t. La for√™t ne va pas s'enfuir !",
        "responses": [
          { "text": "√Ä bient√¥t !", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      }
    }
  },

  "elena_welcome_return": {
    "id": "elena_welcome_return",
    "npcId": "elena-whisperwind",
    "npcName": "Elena Vent-Murmurant",
    "title": "Mission accomplie ?",
    "portrait": "üë©‚Äçü¶∞",
    "triggerCondition": { "questId": "main_01_welcome", "objectiveComplete": "obj_3" },
    "nodes": {
      "start": {
        "text": "Ah, {playerName} ! Vous √™tes revenu en un seul morceau. Je vois dans vos yeux que vous avez r√©ussi. Racontez-moi tout !",
        "responses": [
          { "text": "J'ai explor√© les Bois et vaincu un loup.", "next": "success", "effect": null },
          { "text": "C'√©tait plus difficile que pr√©vu...", "next": "encourage", "effect": null }
        ]
      },
      "success": {
        "text": "Excellent travail ! Vous avez prouv√© votre valeur. Bienvenue officiellement dans la Guilde des Aventuriers !\n\nVoici votre r√©compense comme promis. Et... j'ai une autre mission pour vous, si vous √™tes int√©ress√©.",
        "responses": [
          { "text": "Merci ! Quelle est cette nouvelle mission ?", "next": "next_quest_tease", "effect": { "type": "complete_quest", "questId": "main_01_welcome" } },
          { "text": "Merci, je vais me reposer d'abord.", "next": "end_rest", "effect": { "type": "complete_quest", "questId": "main_01_welcome" } }
        ]
      },
      "encourage": {
        "text": "L'aventure n'est jamais facile. Ce qui compte, c'est que vous ayez pers√©v√©r√© et r√©ussi. C'est √ßa, l'esprit d'un v√©ritable aventurier !\n\nVoici votre r√©compense bien m√©rit√©e.",
        "responses": [
          { "text": "Merci Elena. Y a-t-il d'autres missions ?", "next": "next_quest_tease", "effect": { "type": "complete_quest", "questId": "main_01_welcome" } },
          { "text": "Merci, je reviendrai bient√¥t.", "next": "end_rest", "effect": { "type": "complete_quest", "questId": "main_01_welcome" } }
        ]
      },
      "next_quest_tease": {
        "text": "Des villageois ont signal√© des bruits √©tranges dans les Bois Murmurants. Un endroit appel√© le 'Cercle des F√©es'. Cela pourrait √™tre li√© √† d'anciennes l√©gendes...\n\nMais reposez-vous d'abord. Cette mission peut attendre demain.",
        "responses": [
          { "text": "Je suis impatient d'en apprendre plus !", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      },
      "end_rest": {
        "text": "Vous l'avez bien m√©rit√©. L'auberge de l'√âp√©e Rouill√©e sert une excellente bi√®re. √Ä bient√¥t, aventurier !",
        "responses": [
          { "text": "√Ä bient√¥t !", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      }
    }
  },

  "elena_whispers_start": {
    "id": "elena_whispers_start",
    "npcId": "elena-whisperwind",
    "npcName": "Elena Vent-Murmurant",
    "title": "Les Murmures de la For√™t",
    "portrait": "üë©‚Äçü¶∞",
    "triggerCondition": { "questId": "main_01_welcome", "status": "completed" },
    "nodes": {
      "start": {
        "text": "{playerName}, je suis contente de vous revoir. J'ai une mission importante.\n\nLes rapports sur les Bois Murmurants deviennent inqui√©tants. Des lumi√®res √©tranges, des murmures la nuit... Et ce 'Cercle des F√©es' dont parlent les l√©gendes.",
        "responses": [
          { "text": "Qu'est-ce que le Cercle des F√©es ?", "next": "fairy_ring_lore", "effect": null },
          { "text": "Que dois-je faire ?", "next": "mission_details", "effect": null },
          { "text": "Je ne suis pas s√ªr d'√™tre pr√™t...", "next": "reassure", "effect": null }
        ]
      },
      "fairy_ring_lore": {
        "text": "Les l√©gendes parlent d'un cercle de champignons magiques au c≈ìur de la for√™t. Un portail vers le monde des f√©es, dit-on.\n\nPersonne ne l'a trouv√© depuis des g√©n√©rations. Mais ces ph√©nom√®nes r√©cents... quelque chose se r√©veille.",
        "responses": [
          { "text": "Fascinant ! Je vais enqu√™ter.", "next": "accept_quest", "effect": { "type": "accept_quest", "questId": "main_02_whispers" } },
          { "text": "Les f√©es sont-elles dangereuses ?", "next": "fey_warning", "effect": null }
        ]
      },
      "mission_details": {
        "text": "Trouvez le Cercle des F√©es et rapportez ce que vous y voyez. En chemin, collectez des Herbes Lunaires - notre apothicaire en a besoin.\n\nAttention aux araign√©es g√©antes qui ont envahi certaines zones de la for√™t.",
        "responses": [
          { "text": "J'accepte cette mission.", "next": "accept_quest", "effect": { "type": "accept_quest", "questId": "main_02_whispers" } },
          { "text": "Quelle sera la r√©compense ?", "next": "rewards", "effect": null }
        ]
      },
      "fey_warning": {
        "text": "Les f√©es... sont impr√©visibles. Ni bonnes ni mauvaises, juste... autres. Elles peuvent √™tre des alli√©es pr√©cieuses ou des ennemies terribles.\n\nSoyez respectueux si vous les rencontrez. Et ne mangez JAMAIS leur nourriture.",
        "responses": [
          { "text": "Compris. J'accepte la mission.", "next": "accept_quest", "effect": { "type": "accept_quest", "questId": "main_02_whispers" } },
          { "text": "Je dois y r√©fl√©chir.", "next": "end_think", "effect": null }
        ]
      },
      "rewards": {
        "text": "Pour cette mission :\n‚Ä¢ 200 XP\n‚Ä¢ 50 pi√®ces d'or\n‚Ä¢ Un anneau magique de protection\n‚Ä¢ R√©putation accrue avec la Guilde\n\nC'est une mission plus dangereuse, donc mieux pay√©e.",
        "responses": [
          { "text": "March√© conclu !", "next": "accept_quest", "effect": { "type": "accept_quest", "questId": "main_02_whispers" } }
        ]
      },
      "reassure": {
        "text": "Je comprends vos doutes, mais vous avez d√©j√† prouv√© votre courage. Et vous ne serez pas seul - la Guilde veille toujours sur ses membres.\n\nPrenez le temps qu'il vous faut pour vous pr√©parer.",
        "responses": [
          { "text": "Vous avez raison. J'y vais !", "next": "accept_quest", "effect": { "type": "accept_quest", "questId": "main_02_whispers" } },
          { "text": "Je reviendrai quand je serai pr√™t.", "next": "end_think", "effect": null }
        ]
      },
      "accept_quest": {
        "text": "Que la lumi√®re guide vos pas, {playerName}. Les Bois Murmurants cachent bien des secrets... peut-√™tre trouverez-vous quelque chose de pr√©cieux.\n\nRevenez me voir d√®s que vous aurez des nouvelles du Cercle.",
        "responses": [
          { "text": "Je ne vous d√©cevrai pas !", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      },
      "end_think": {
        "text": "Prenez votre temps. La for√™t sera toujours l√†. Mais ne tardez pas trop - ces ph√©nom√®nes m'inqui√®tent.",
        "responses": [
          { "text": "√Ä bient√¥t.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      }
    }
  },

  "tom_rats_start": {
    "id": "tom_rats_start",
    "npcId": "old-tom",
    "npcName": "Vieux Tom",
    "title": "Un probl√®me de rongeurs",
    "portrait": "üë¥",
    "nodes": {
      "start": {
        "text": "*Le vieil aubergiste soupire lourdement*\n\nAh, encore un aventurier ! Dites, vous cherchez du travail ? J'ai un sacr√© probl√®me dans ma cave...",
        "responses": [
          { "text": "Quel genre de probl√®me ?", "next": "explain_problem", "effect": null },
          { "text": "Combien √ßa paie ?", "next": "payment", "effect": null },
          { "text": "D√©sol√©, je suis occup√©.", "next": "end_busy", "effect": null }
        ]
      },
      "explain_problem": {
        "text": "Des rats ! Des rats G√âANTS ! Ils ont envahi ma cave et d√©vorent mes provisions. J'ai essay√© les pi√®ges, le poison... rien ne marche.\n\nCes bestioles font la taille d'un chat, je vous jure !",
        "responses": [
          { "text": "Des rats g√©ants ? Je m'en charge !", "next": "accept", "effect": { "type": "accept_quest", "questId": "side_rats_cellar" } },
          { "text": "√áa semble dangereux. Quelle r√©compense ?", "next": "payment", "effect": null }
        ]
      },
      "payment": {
        "text": "J'ai pas beaucoup, mais je peux vous donner 15 pi√®ces d'or et de la bi√®re gratuite pour un mois ! Enfin... 5 chopes. C'est honn√™te, non ?\n\nEt vous aurez ma gratitude √©ternelle !",
        "responses": [
          { "text": "March√© conclu, Tom !", "next": "accept", "effect": { "type": "accept_quest", "questId": "side_rats_cellar" } },
          { "text": "Hmm, c'est un peu maigre...", "next": "negotiate", "effect": null }
        ]
      },
      "negotiate": {
        "text": "*Tom se gratte la barbe*\n\nBon, bon... Je peux ajouter un bon repas chaud. Et si vous trouvez d'o√π viennent ces satan√©s rats, je double la prime !\n\nOn a un accord ?",
        "responses": [
          { "text": "D'accord, je vais voir votre cave.", "next": "accept", "effect": { "type": "accept_quest", "questId": "side_rats_cellar" } },
          { "text": "Non merci.", "next": "end_refuse", "effect": null }
        ]
      },
      "accept": {
        "text": "*Tom pousse un soupir de soulagement*\n\nMerci, merci ! La trappe vers la cave est derri√®re le comptoir. Faites attention, ils sont vicieux ces rongeurs !\n\n*Il vous tend une torche*",
        "responses": [
          { "text": "Je reviens bient√¥t.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      },
      "end_busy": {
        "text": "*Tom hausse les √©paules, d√©√ßu*\n\nJe comprends, je comprends... Si vous changez d'avis, vous savez o√π me trouver. Ces rats ne vont pas partir tout seuls...",
        "responses": [
          { "text": "Bonne chance avec les rats.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      },
      "end_refuse": {
        "text": "*Tom semble abattu*\n\nBon... tant pis. Je trouverai quelqu'un d'autre. Ou peut-√™tre que je devrai fermer l'auberge si ces rats continuent...",
        "responses": [
          { "text": "Au revoir.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      }
    }
  },

  "tom_rats_complete": {
    "id": "tom_rats_complete",
    "npcId": "old-tom",
    "npcName": "Vieux Tom",
    "title": "Les rats sont partis !",
    "portrait": "üë¥",
    "triggerCondition": { "questId": "side_rats_cellar", "objectiveComplete": "obj_2" },
    "nodes": {
      "start": {
        "text": "*Tom vous regarde avec des yeux pleins d'espoir*\n\nAlors ? Vous avez r√©ussi ? Ma cave est lib√©r√©e ?",
        "responses": [
          { "text": "C'est fait. Les rats ne vous emb√™teront plus.", "next": "success", "effect": null },
          { "text": "Il y en avait plus que pr√©vu...", "next": "complain", "effect": null }
        ]
      },
      "success": {
        "text": "*Tom saute de joie (autant qu'un vieil homme peut sauter)*\n\nPar les dieux ! Vous √™tes mon sauveur ! Voici votre r√©compense comme promis. Et cette bi√®re, c'est cadeau !\n\n*Il pose une bourse et plusieurs chopes sur le comptoir*",
        "responses": [
          { "text": "Merci Tom. √Ä la v√¥tre !", "next": null, "effect": { "type": "complete_quest", "questId": "side_rats_cellar" } }
        ]
      },
      "complain": {
        "text": "*Tom baisse les yeux, g√™n√©*\n\nJe sais, je sais... J'aurais d√ª agir plus t√¥t. Mais vous avez r√©ussi, c'est l'important !\n\nTenez, prenez votre r√©compense. Et une bi√®re suppl√©mentaire pour la peine !",
        "responses": [
          { "text": "Pas de probl√®me, Tom.", "next": null, "effect": { "type": "complete_quest", "questId": "side_rats_cellar" } }
        ]
      }
    }
  },

  "sera_herbs_start": {
    "id": "sera_herbs_start",
    "npcId": "sera-nightshade",
    "npcName": "Sera Belladone",
    "title": "L'apothicaire a besoin d'aide",
    "portrait": "üßô‚Äç‚ôÄÔ∏è",
    "nodes": {
      "start": {
        "text": "*Une femme aux cheveux noirs et aux yeux per√ßants vous observe depuis son comptoir encombr√© de fioles*\n\nUn aventurier... Parfait. J'ai besoin d'ingr√©dients frais. Int√©ress√© ?",
        "responses": [
          { "text": "De quoi avez-vous besoin ?", "next": "explain", "effect": null },
          { "text": "Que vendez-vous ici ?", "next": "shop_info", "effect": null },
          { "text": "Non merci.", "next": "end_decline", "effect": null }
        ]
      },
      "explain": {
        "text": "Des herbes m√©dicinales des Bois Murmurants. Elles poussent pr√®s des clairi√®res, l√† o√π la lumi√®re perce le feuillage.\n\nJ'en ai besoin de 10 pour mes potions. En √©change, je vous en donnerai quelques-unes.",
        "responses": [
          { "text": "J'accepte cette t√¢che.", "next": "accept", "effect": { "type": "accept_quest", "questId": "side_herb_gathering" } },
          { "text": "Y a-t-il des dangers ?", "next": "dangers", "effect": null }
        ]
      },
      "dangers": {
        "text": "Les Bois Murmurants... *elle sourit myst√©rieusement* ...murmurer n'est pas tout ce qu'ils font. Des loups, des araign√©es, parfois pire.\n\nMais un aventurier comme vous devrait s'en sortir. N'est-ce pas ?",
        "responses": [
          { "text": "Aucun probl√®me. J'accepte.", "next": "accept", "effect": { "type": "accept_quest", "questId": "side_herb_gathering" } },
          { "text": "Je vais y r√©fl√©chir.", "next": "end_think", "effect": null }
        ]
      },
      "shop_info": {
        "text": "Potions de soin, antidotes, √©lixirs en tout genre. Tout ce dont un aventurier a besoin pour survivre.\n\n*Elle d√©signe ses √©tag√®res*\n\nMais mes stocks s'√©puisent. D'o√π ma demande d'herbes...",
        "responses": [
          { "text": "Je peux vous aider avec √ßa.", "next": "accept", "effect": { "type": "accept_quest", "questId": "side_herb_gathering" } },
          { "text": "Je regarderai votre boutique plus tard.", "next": "end_shop", "effect": null }
        ]
      },
      "accept": {
        "text": "*Sera hoche la t√™te avec satisfaction*\n\nParfait. Les herbes ont des feuilles argent√©es et une odeur de menthe. Vous les reconna√Ætrez.\n\nRevenez quand vous en aurez 10. Ne tra√Ænez pas - elles perdent leurs propri√©t√©s si elles s√®chent.",
        "responses": [
          { "text": "Je reviens bient√¥t.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      },
      "end_decline": {
        "text": "*Sera hausse les √©paules*\n\nComme vous voulez. Ma boutique reste ouverte si vous changez d'avis... ou si vous avez besoin de potions.",
        "responses": [
          { "text": "Au revoir.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      },
      "end_think": {
        "text": "Prenez votre temps. Les herbes ne poussent pas moins vite parce que vous h√©sitez.\n\n*Un sourire √©nigmatique se dessine sur ses l√®vres*",
        "responses": [
          { "text": "√Ä bient√¥t.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      },
      "end_shop": {
        "text": "Faites donc. Et si vous trouvez des ingr√©dients int√©ressants dans vos aventures, pensez √† moi. Je paie bien.",
        "responses": [
          { "text": "J'y penserai.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      }
    }
  },

  "generic_merchant": {
    "id": "generic_merchant",
    "npcId": "generic",
    "npcName": "Marchand",
    "title": "Commerce",
    "portrait": "üßë‚Äçüíº",
    "nodes": {
      "start": {
        "text": "Bienvenue ! Que puis-je faire pour vous aujourd'hui ?",
        "responses": [
          { "text": "Je voudrais voir vos marchandises.", "next": "shop", "effect": { "type": "open_shop" } },
          { "text": "Je voudrais vendre quelque chose.", "next": "sell", "effect": { "type": "open_sell" } },
          { "text": "Juste un coup d'≈ìil.", "next": "end_browse", "effect": null }
        ]
      },
      "shop": {
        "text": "Voici ma s√©lection. N'h√©sitez pas √† demander si quelque chose vous int√©resse !",
        "responses": [
          { "text": "Merci.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      },
      "sell": {
        "text": "Voyons ce que vous avez... Je donne un prix honn√™te, vous verrez.",
        "responses": [
          { "text": "D'accord.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      },
      "end_browse": {
        "text": "Pas de probl√®me. Revenez quand vous voulez !",
        "responses": [
          { "text": "Au revoir.", "next": null, "effect": { "type": "end_dialogue" } }
        ]
      }
    }
  }
}
